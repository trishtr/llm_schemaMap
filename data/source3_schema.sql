-- Source 3: Inventory Management System (UPPER_CASE naming convention)
-- This represents an enterprise system with standardized naming

CREATE DATABASE IF NOT EXISTS source3_inventory;
USE source3_inventory;

-- Customer master table
CREATE TABLE CUSTOMER_MASTER (
    CUST_ID INT PRIMARY KEY AUTO_INCREMENT,
    CUST_FNAME VARCHAR(50) NOT NULL,
    CUST_LNAME VARCHAR(50) NOT NULL,
    CUST_EMAIL VARCHAR(100) UNIQUE NOT NULL,
    CUST_PHONE VARCHAR(20),
    CUST_DOB DATE,
    CUST_CREATE_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CUST_STATUS CHAR(1) DEFAULT 'A',
    CUST_ORDER_CNT INT DEFAULT 0,
    CUST_TOTAL_AMT DECIMAL(10,2) DEFAULT 0.00
);

-- Item master table
CREATE TABLE ITEM_MASTER (
    ITEM_ID INT PRIMARY KEY AUTO_INCREMENT,
    ITEM_NAME VARCHAR(100) NOT NULL,
    ITEM_DESC TEXT,
    ITEM_CAT VARCHAR(50),
    ITEM_PRICE DECIMAL(8,2) NOT NULL,
    ITEM_STOCK INT DEFAULT 0,
    ITEM_SUPPLIER VARCHAR(100),
    ITEM_CREATE_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    ITEM_UPDATE_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Purchase order table
CREATE TABLE PURCHASE_ORDER (
    PO_ID INT PRIMARY KEY AUTO_INCREMENT,
    PO_CUST_ID INT NOT NULL,
    PO_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PO_STATUS VARCHAR(20) DEFAULT 'PENDING',
    PO_TOTAL DECIMAL(10,2) NOT NULL,
    PO_SHIP_ADDR TEXT,
    PO_PAY_METHOD VARCHAR(30),
    FOREIGN KEY (PO_CUST_ID) REFERENCES CUSTOMER_MASTER(CUST_ID)
);

-- Purchase order detail table
CREATE TABLE PO_DETAIL (
    POD_ID INT PRIMARY KEY AUTO_INCREMENT,
    POD_PO_ID INT NOT NULL,
    POD_ITEM_ID INT NOT NULL,
    POD_QTY INT NOT NULL,
    POD_UNIT_PRICE DECIMAL(8,2) NOT NULL,
    POD_DISC_AMT DECIMAL(8,2) DEFAULT 0.00,
    FOREIGN KEY (POD_PO_ID) REFERENCES PURCHASE_ORDER(PO_ID),
    FOREIGN KEY (POD_ITEM_ID) REFERENCES ITEM_MASTER(ITEM_ID)
);

-- Sample data for CUSTOMER_MASTER
INSERT INTO CUSTOMER_MASTER (CUST_FNAME, CUST_LNAME, CUST_EMAIL, CUST_PHONE, CUST_DOB, CUST_ORDER_CNT, CUST_TOTAL_AMT) VALUES
('Robert', 'Taylor', 'robert.t@inventory.com', '555-0301', '1983-08-25', 14, 1650.80),
('Jennifer', 'Anderson', 'jennifer.a@inventory.com', '555-0302', '1991-04-14', 9, 720.90),
('Christopher', 'Thomas', 'chris.t@inventory.com', '555-0303', '1986-11-30', 19, 2800.15);

-- Sample data for ITEM_MASTER
INSERT INTO ITEM_MASTER (ITEM_NAME, ITEM_DESC, ITEM_CAT, ITEM_PRICE, ITEM_STOCK, ITEM_SUPPLIER) VALUES
('Gaming Mouse', 'High-precision gaming mouse with RGB lighting', 'Gaming', 69.99, 40, 'GameTech'),
('Yoga Mat', 'Non-slip exercise yoga mat', 'Fitness', 24.99, 80, 'FitLife'),
('Desk Lamp', 'LED desk lamp with adjustable brightness', 'Home', 34.99, 55, 'HomeLight'); 